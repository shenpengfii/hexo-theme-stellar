<script defer type="text/javascript" src="<%- conf.js %>"></script>
<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    var mermaid_config = {
      startOnLoad: true,
      theme:
        "<%- theme.style.darkmode %>" == "auto" &&
          window.matchMedia("(prefers-color-scheme: dark)").matches
          ? "dark"
          : "<%- conf.theme %>",
      logLevel: 3,
      themeVariables: {
        darkMode: true
      },
      flowchart: {
        width: 100%,
        useMaxWidth: true,
        htmlLabels: true,
        curve: "linear"
      },
      gantt: {
        axisFormat: "%Y/%m/%d"
      },
      sequence: {
        actorMargin: 50
      }
    }
    mermaid.initialize(mermaid_config);
  });
</script>